import petstore.data.*
import petstore.logic.*

scenario TestData[
	object applicationControllerTD: ApplicationController{ ApplicationController.lastSessionId = -1; }
	object customerTD: Customer{
		Customer.firstname='user'; 
		Customer.lastname='userLastName';
		Customer.email='user@test.com';
		Customer.login='user';
		Customer.password='password';
	}
]

test createSessionIDTest activity ApplicationController.CreateSessionID on TestData.applicationControllerTD{
	finally{
		CreateSessionID.sessionId = 0;
		CreateSessionID.self.result::ApplicationController.lastSessionId = 0;
	}
}

test createSessionTest activity ApplicationController.CreateSession(CreateSession.customer=TestData.customerTD) on TestData.applicationControllerTD{
	finally{
		CreateSession.sessionId = 0;
		check 'sessionAdded';
	}
}