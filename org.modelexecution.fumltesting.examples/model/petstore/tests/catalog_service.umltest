import petstore.data.*
import petstore.logic.*

scenario TestData[
	object catalogServiceTD: CatalogService{}
	
	object customerTD: Customer{
		Customer.firstname='user'; 
		Customer.lastname='userLastName';
		Customer.email='user@test.com';
		Customer.login='user';
		Customer.password='password';
	}
	
	object productTD: Product{
		Product.name = 'product';
		Product.description = 'A product for testing.';
	}
	
	object itemTD: Item{
		Item.name = 'item';
		Item.unitCost = 10;
		Item.description = 'An item used for testing.';
	}
	
	object anotherItemTD: Item{
		Item.name = 'anotherItem';
		Item.unitCost = 20;
		Item.description = 'An other item used for testing.';
	}
]

test findAllItemsTest activity CatalogService.FindAllItems{
	assertOrder FindAllItems.init, FindAllItems.retrieveItems;
	finally{
		FindAllItems.items includes TestData.itemTD;
		FindAllItems.items includes TestData.anotherItemTD;
		check 'itemSize';
	}
}

test findAllProductsTest activity CatalogService.FindAllProducts{
	assertOrder FindAllProducts.init, FindAllProducts.retrieveProducts;
	finally{
		FindAllProducts.products includes TestData.productTD;
		check 'productSize';
	}
}

//test findItemTest activity CatalogService.FindItem(FindItem.name='item') on TestData.catalogServiceTD{
//	finally{
//		FindItem.item != null;
//	}
//}